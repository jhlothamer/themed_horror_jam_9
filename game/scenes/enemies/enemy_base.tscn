[gd_scene load_steps=14 format=2]

[ext_resource path="res://addons/godot_helper_pack/core/state_machine/state_machine.gd" type="Script" id=1]
[ext_resource path="res://scenes/enemies/enemy_walk.gd" type="Script" id=2]
[ext_resource path="res://scenes/enemies/enemy_base.gd" type="Script" id=3]
[ext_resource path="res://scenes/enemies/states/enemy_attack.gd" type="Script" id=4]

[sub_resource type="CapsuleShape" id=1]
radius = 0.5

[sub_resource type="SpatialMaterial" id=16]
resource_local_to_scene = true
albedo_color = Color( 0.137255, 0.564706, 0, 1 )

[sub_resource type="CapsuleMesh" id=18]
resource_local_to_scene = true
material = SubResource( 16 )
radius = 0.5

[sub_resource type="SpatialMaterial" id=17]
albedo_color = Color( 0.901961, 0.0509804, 0.0509804, 1 )
emission_enabled = true
emission = Color( 1, 0, 0, 1 )
emission_energy = 1.0
emission_operator = 0
emission_on_uv2 = false

[sub_resource type="SphereMesh" id=19]
material = SubResource( 17 )
radius = 0.1
height = 0.2

[sub_resource type="CylinderMesh" id=20]
top_radius = 0.05
bottom_radius = 0.0
height = 0.2

[sub_resource type="SpatialMaterial" id=21]
albedo_color = Color( 0.137255, 0.564706, 0, 1 )

[sub_resource type="CylinderMesh" id=22]
material = SubResource( 21 )
top_radius = 0.1
bottom_radius = 0.1
height = 1.0

[sub_resource type="SphereShape" id=23]

[node name="EnemyBase" type="KinematicBody"]
collision_layer = 33
script = ExtResource( 3 )

[node name="CollisionShape" type="CollisionShape" parent="."]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 1, 0 )
shape = SubResource( 1 )

[node name="MeshInstance" type="MeshInstance" parent="."]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 1, 0 )
mesh = SubResource( 18 )

[node name="Eye1" type="MeshInstance" parent="MeshInstance"]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -0.165072, -0.479389, -0.61483 )
mesh = SubResource( 19 )
skeleton = NodePath("../..")

[node name="Eye2" type="MeshInstance" parent="MeshInstance"]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0.165, -0.479389, -0.615 )
mesh = SubResource( 19 )
skeleton = NodePath("../..")

[node name="Tooth" type="MeshInstance" parent="MeshInstance"]
transform = Transform( 1, 0, 0, 0, 0.397212, 0.917727, 0, -0.917727, 0.397212, 0.148108, -0.503029, -0.28777 )
mesh = SubResource( 20 )
skeleton = NodePath("../..")

[node name="Tooth2" type="MeshInstance" parent="MeshInstance"]
transform = Transform( 1, 0, 0, 0, 0.397212, 0.917727, 0, -0.917727, 0.397212, -0.14317, -0.503029, -0.28777 )
mesh = SubResource( 20 )
skeleton = NodePath("../..")

[node name="Arm" type="MeshInstance" parent="MeshInstance"]
transform = Transform( 1, 0, 0, 0, 0.951083, -0.308934, 0, 0.308934, 0.951083, 0.424965, -0.469007, -0.209544 )
mesh = SubResource( 22 )
skeleton = NodePath("../..")

[node name="Arm2" type="MeshInstance" parent="MeshInstance"]
transform = Transform( 1, 0, 0, 0, 0.951083, -0.308934, 0, 0.308934, 0.951083, -0.425, -0.469, -0.21 )
mesh = SubResource( 22 )
skeleton = NodePath("../..")

[node name="StateMachine" type="Node" parent="."]
script = ExtResource( 1 )

[node name="Walk" type="Node" parent="StateMachine"]
script = ExtResource( 2 )
is_starting_state = true

[node name="Attack" type="Node" parent="StateMachine"]
script = ExtResource( 4 )
character_detect_area = NodePath("../../CharacterDetectArea")

[node name="CharacterDetectArea" type="Area" parent="."]
collision_layer = 17
collision_mask = 16

[node name="CollisionShape" type="CollisionShape" parent="CharacterDetectArea"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0 )
shape = SubResource( 23 )
